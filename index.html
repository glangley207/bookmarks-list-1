<!DOCTYPE html>
<html lang="en">
  <head>
    <title>doc-links-1</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/style.css">
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="/script.js"></script>
  </head>  
  <body>
    
  <section>                     <!-- list-1 -->
  <h3>list-1</h3>
    <div id="list-1">
      https://test.com
        * <b>aaaa</b>
  </div>
  </section>
    
  <section>                    <!-- list-2 -->
  <h3>list-2</h3>
  <div id="list-2">
    <b>glitch-projects</b>
          https://glitch.com/~auth0
          https://glitch.com/edit/#!/animated-pixel-gradients?path=README.md:1:0
    <b>glitch-usage</b>
          https://www.youtube.com/watch?time_continue=40&v=aWJFbtrgW4E
          (:title   "How To Export A Glitch Project to GitHub")
  </div>
  </section>
  
  <section>
    <h3>list-3</h3>
    <div id="list-3"></div>
  </section>
    
  <script>
  // ---------------------------------------------------
    morph_list('list-1')
    morph_list('list-2')
    
    function add_list(dat, id, indent_factor=6) {
        let make_anchor = (s,m)=>{
               return s.replace(re_url,`<a href="${m[0]}">${m[0]}</a>`)}
        let sigma         = []                    //  collect
        let lines         = dat.split('\n')
        lines.forEach((s)=>{
            let m    = re_url.exec(s)               // line is url
            let s_   = m ? make_anchor(s,m)  :  s;
            sigma.push(fix_left_margin(s_, indent_factor))})
        $(`#${id}`).html(sigma.join('\n'))}

    fetch('list-3.txt')
      .then(res=>res.text())
      .then(dat=>{
          add_list(dat, 'list-3')
      })
      .catch((err)=>{
      console.log(`ERR: ${err}`)
      })
  </script>
  </body>
</html>
